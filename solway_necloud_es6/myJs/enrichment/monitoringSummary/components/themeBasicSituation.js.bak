ajaxData({}, {
    __serviceName__:'themeBasicSituationAjaxData'
})('themeBasicSituationCtrl', ['$scope', 'themeBasicSituationAjaxData', 'historicalRecord'], ($scope, myAjaxData, historicalRecord) => {
    $scope.initChildScope($scope, myAjaxData);

    const initParams = () => {
        const params = historicalRecord.get();

        if (params.detailFullPage) return false; //放大状态，不做处理
        $scope.roleType = params.stationData.dataType;//电站（0）和非电站
        $scope.dateType = params.dateType;//日期类型（日、月、年、累计；0、1、2、3）
        //$scope.getAjaxData() //接口
    }

    //父页面初始化完成
    $scope.mainPageInitComplete = () => {
        initParams();
    };

    //切换日期类型
    $scope.dateUpdated = () =>{
        initParams();
    }

    //切换电站
    $scope.switchPowerCallback = () => {
        initParams();
    }

    //点击放大后
    $scope.switchDetailFullPage = () =>{
        initParams();
    }
});