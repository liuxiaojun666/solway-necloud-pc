ajaxData({
    businessManagementData: {
        name: 'GETbusinessManagementData',
        data: {},
        later: true
    },
    selectProvince:{
        name: 'POSTSelectProvince',
        data: {},
        later: true
    }
    // update:{
    //     name:'POSTupdateModule',
    //     data: {},
    //     later: true,
    //     onlyLatest: true
    // }
}, {
    __serviceName__: 'editBusManageTplService',
})('editBusManageTplCtrl', ['$scope', 'editBusManageTplService', 'actionRecord','$timeout','toaster'], ($scope, myAjaxData, historicalRecord,$timeout,toaster) => {

    $scope.enterpriseTypeList = [
        {id:32,dictName:'国有企业'},
        {id:33,dictName:'股份制企业'},
        {id:34,dictName:'私营企业'},
        {id:35,dictName:'联营企业'},
        {id:36,dictName:'外商投资企业'},
        {id:37,dictName:'港、澳、台'},
        {id:38,dictName:'股份合作企业'},
        {id:39,dictName:'集体所有制'}
    ];

    $scope.endDate = new Date('2099');

    const getData = () =>{
        $scope.businessManagementData.getData({}).then(res=>{
            if (res.key==2) {
				$scope.customConfig = res.customConfig;
                $scope.formData = res.data;
                $scope.admintime = new Date(res.data.admintime);
                console.log(res.data)

                
            }
        });
    }

    $scope.$on('broadEdit',()=>{
        getData();
    });

    // const save = () =>{
    //     $scope.formData['id'] = $scope.id;
    //     $scope.update.getData($scope.formData).then(res=>{
    //         if(res.code == 0 && res.body.id){
    //             toaster.pop('success', '',res.msg)
    //             $scope.$emit('addModuleCallback');
    //             initParentModuleData();
    //         }
    //     });
    // }

    // const selectModuleDetail = id =>{
    //     $scope.selectModule.getData({
    //         id:id
    //     }).then(res=>{
    //         $scope.formData = res.body;
    //     });
    // }
    // $scope.$on('broadAddModule',function(e,data){
    //     initParentModuleData();
    //     $scope.id = data.moduleId;
    //     $scope.formData = {};
        
    //     if($scope.id){
    //         selectModuleDetail($scope.id)
    //     }
        
    // });

    //保存
    // $scope.save = () =>{
    //     if (!$solway.formValidation($scope.formData, '.addModuleTpl', toaster)) return;//校验非空

    //     if($scope.id){
    //         //编辑无需校验编码
    //         save();
    //     }else{
    //         //校验编码是否存在编码
    //         $scope.checkCodeExist.getData({
    //             code:$scope.formData.code
    //         }).then(res=>{
    //             if(res.code == 0){
    //                 save();
    //             }else{
    //                 toaster.pop('error', '',res.msg)
    //             }
    //         });
    //     }
    // }

    // //取消
    // $scope.cancel = () =>{
    //     $scope.$emit('cancelCallback');
    // }

});