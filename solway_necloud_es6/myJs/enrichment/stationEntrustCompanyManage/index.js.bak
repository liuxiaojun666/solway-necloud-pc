ajaxData(
    {
        opEntrustCompanyStationList: {
            name: 'GETopEntrustCompanyStationList',
            data: {
                pageSize: 20
            },
            onlyLatest: true
        },
        insertEntrust: {
            name: 'insertEntrust',
            data: {},
            later: true,
            sameTimeOnce: true
        },
        cancelEntrust: {
            name: 'cancelEntrust',
            data: {},
            later: true,
            sameTimeOnce: true
        },
    }, {

    }
)('stationEntrustCompanyManageCtrl', ['$scope', 'myAjaxData', 'actionRecord', '$timeout', 'toaster'], ($scope, myAjaxData, historicalRecord, $timeout, toaster) => {
    $scope.moduleName = '委托服务';//当前页面名称；

    $scope.opEntrustCompanyStationList.subscribe(() => {
        $scope.opEntrustCompanyStationList.column = [
            {
                title: '<label class="i-checks m-b-none"><input type="checkbox"><i style="background:transparent;"></i></label>',
                dataIndex: '',
                width: '60px',
                align: 'center',
                checkboxName: 'batchprocessing',
                render(text, record, index) {
                    return '<label class="i-checks m-b-none"><input data-identifies="' + record.busino + '_' + record.mid + '" name="batchprocessing" type="checkbox" /><i style="background:transparent;"></i></label>';
                }
            },
            {
                title: '电站编号',
                dataIndex: 'stationCode',
                sort: true,
            },
            {
                title: '电站名称',
                dataIndex: 'stationName',
                width: '20%',
                sort: true,
            },
            {
                title: '所属企业',
                dataIndex: 'companyName',
                width: '20%',
                sort: true,
            },
            {
                title: '负责人',
                dataIndex: 'realname',
                sort: true,
            },
            {
                title: '联系电话',
                dataIndex: 'stationTel',
                sort: true,
                align: 'center',
            },
            {
                title: '所属省份',
                dataIndex: 'provinceName',
                sort: true,
            },
            {
                title: '状态',
                dataIndex: 'isEntrust',
                sort: true,
                align: 'center',
                render(text) {
                    return ['未委托', '已委托'][text];
                }
            },
        ];
    });

    $timeout(() => {
        $('.ng-clock').removeClass('ng-clock');
    }, 2000);
});