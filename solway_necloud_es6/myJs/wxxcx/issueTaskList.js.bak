ajaxData({
    pageList: {
        name: 'GETanalysisPage',
        data: {
            pageIndex:0,
            pageSize:10,
            startDate: new Date((new Date).setDate((new Date).getDate() - 7)).Format('yyyy-MM-dd'),
            endDate: (new Date).Format('yyyy-MM-dd')
        }
    }
},{
    routerUrl:[document.getElementById('routerJS').getAttribute('param')],

})('issueTaskListCtrl', ['$scope', 'myAjaxData'], ($scope, myAjaxData) => {
    //线上
    /*$scope.showPowerIndexData = myAjaxData.config.routerUrl[0]+'/tpl/wxxcx/issueTaskAdd.html'

    $scope.coverModel = myAjaxData.config.routerUrl[0]+'/tpl/publicComponent/coverModal.html'*/

    //测试
    $scope.showPowerIndexData = '/tpl/wxxcx/issueTaskAdd.html'

    $scope.coverModel = '/tpl/publicComponent/coverModal.html'
    
    console.log($scope.coverModel)


    //添加
    $scope.showAddModel =  () =>{
       // initPageData();
        $('#powerIndexModal').modal();
       // $('#'+modalId).modal();
    };

    
    /*$scope.a = ()=>{
        $scope.pageList.getData({})
    }*/
    //console.log($scope.p)
    $scope.data = [1,223,6,657,75]
    $scope.pageList.promise.then(res=>{
        //debugger
    })

<<<<<<< HEAD
=======
    $scope.created = (scope,element)=>{
        window.changeAll = (value,ids) =>{
            const objs = document.getElementsByName(ids);
            for(let i=0; i<objs.length; i++) {
                    objs[i].checked = value;
            }
        }
    }
    $scope.destroyed = ()=> window.changeAll = null
    $scope.column = [
        {
            title: `
                <label class="i-checks m-b-none" style="display:block;">
                    <input type="checkbox" id="all" onclick="window.changeAll(this.checked, 'ids')" />
                    <i></i>
                </label>`,
            dataIndex: 'a',
            width: '10%',
            align: 'center',
            render(text, record, index) {
                return `
                    <div class="i-checks m-b-none">
                        <input type="checkbox" name="ids" id="ids" value="{{vo.id}}" />
                        <i></i>
                    </div>`
            }
        },{
            title: '标题',
            dataIndex: 'deviceName',
            width: '20%',
            align: 'center',
        },{
            title: '时间',
            dataIndex: 'time',
            width: '30%',
            align: 'center',
            render(text, record, index) {
                return text && new Date(text).Format('yyyy-MM-dd')                       
            }
        }, {
            title: '地点',
            dataIndex: 'place',
            width: '20%',
            align: 'center'
        }, {
            title: '状态',
            dataIndex: 'eqreduce',
            width: '30%',
            align: 'right',
            render (text, record) {
                return text 
            }
        }, {
            title: '操作',
            dataIndex: 'eqreduce',
            width: '30%',
            align: 'right',
            render (text, record) {
                return text 
            }
        }
    ]
>>>>>>> f3cb761e94c85654b536827f2e1cc4ec5d917a10
})